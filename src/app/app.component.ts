import {Component, OnInit} from '@angular/core';
import {HttpClient} from '@angular/common/http';
import {FusekiResponseModel} from './fusekiResponse.model';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: [
    './app.component.css'
  ]
})
export class AppComponent implements OnInit {
  title = 'VulnerabilityBrowser';
  queryRes: FusekiResponseModel;
  constructor(private http: HttpClient) { }

  ngOnInit() {
    this.sampleQuery();
  }

  private sampleQuery() {
    this.http
      // tslint:disable-next-line:max-line-length
      .get<FusekiResponseModel>('http://147.175.121.215:3030/cve-oval-cwe/sparql?query=SELECT%20?subject%20?predicate%20?object%20WHERE%20{<http://FEI-STU/TP2019/Security/CVE-1999-0001>%20?predicate%20?object}LIMIT%2025&output=json')
      .subscribe((res: FusekiResponseModel ) => {
        this.queryRes = res;
    });
  }
}
