<!-- HERO -->
<section class="section--hero">
  <div class="section--hero--container uk-container uk-container-expand">
    <div class="uk-height-large uk-cover-container">
      <img src="../assets/img/gradient.jpg" alt="Vulnerability Browser gradient background" data-uk-cover>
      <div
        class="uk-overlay uk-overlay-primary uk-padding-small uk-position-cover uk-flex uk-flex-center uk-flex-middle uk-light uk-text-center">
        <div data-uk-scrollspy="cls: uk-animation-slide-bottom-small uk-width-2-3@s">
          <h1 class="uk-text-bold uk-margin-top uk-margin-small-bottom uk-margin-remove-adjacent">Vulnerability
            Browser</h1>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit dolore magna aliqua.</p>

          <!-- SEARCH -->
          <div class="uk-margin-large-bottom uk-width-expand">
            <form id="search-form" action="">
              <div *ngFor="let keyword of keywords; let i = index;trackBy:trackByIndex"
                   class="uk-margin-small-bottom uk-flex uk-flex-middle uk-flex-center">
                <input [(ngModel)]="keyword.name" name="keyword{{ i }}" class="uk-input uk-width-1-2@m search-fld"
                       type="text"
                       placeholder="Enter keyword" autofocus>
                <a href="#" class="search-filter" data-uk-filter-control="[data-tags*='']" hidden>Search</a>
                <button *ngIf="i > 0" (click)="removeKeyword(i)"
                        class="uk-button uk-button-default uk-margin-small-left" type="button">
                  X
                </button>
              </div>
              <button (click)="addKeywordField()" class="uk-button uk-button-default uk-margin-small-right"
                      type="button">
                Add keyword
              </button>
              <button class="uk-button uk-button-default" type="button"
                      (click)="runSearch('reset')">Search!
              </button>
            </form>
          </div>

        </div>
      </div>

    </div>
  </div>
</section>

<!-- MAIN -->
<section class="section--main">
  <div class="main_container uk-container">
    <div *ngIf="searchQuery === undefined" style="margin-top: 50px;">
      <p class="uk-text-lead">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci consequatur eveniet nihil placeat sint! Assumenda debitis dicta officiis reiciendis voluptatem? Esse facilis illo, itaque nobis numquam possimus reiciendis voluptas? Blanditiis?</p>
    </div>

    <!--    <div class="uk-grid" data-ukgrid>-->
    <!--      <div class="uk-width-2-3@m">-->
    <div *ngIf="searchQuery !== undefined">
    <h4 class="uk-heading-line uk-text-bold"><span>Search results</span></h4>
    <div *ngIf="!searchQuery.results.bindings.length">
      <p class="uk-text-lead uk-text-center" style=" color: #fff; background: #e53935; border-radius: 5px; padding: 5px 10px;">No results</p>
    </div>
    <div *ngIf="searchQuery.results.bindings.length" class="uk-margin uk-child-width-1-4 uk-flex uk-flex-right" data-uk-grid>
      <div></div>
      <div></div>
      <div class="uk-flex uk-flex-middle uk-flex-right">Results/page</div>
      <div>
        <select (change)="refresh()" [(ngModel)]="limit" class="uk-select">
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="30">30</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
      </div>

    </div>
    </div>


    <ul uk-accordion="multiple: true">
      <li *ngIf="searchQuery !== undefined && searchQuery.results.bindings.length > 0" class="uk-open">
        <a class="uk-accordion-title" href="#">Search result</a>
        <div class="uk-accordion-content">
          <table class="uk-table uk-table-striped">
            <thead>
            <tr class="uk-grid-collapse uk-child-width-1-3">
              <th>Subject</th>
              <th>Property</th>
              <th>Value</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of searchQuery.results.bindings">
              <td (click)=" runQueries('<' + item.subject.value + '>');" class="uk-text-bold"><a href="#result"
                                                                                                 uk-scroll
                                                                                                 class="table_id">{{ item.subject.value_pretty }}</a>
              </td>
              <td (click)=" runQueries('<' + item.predicate.value + '>');"><span
                class="table_id">{{ item.predicate.value_pretty }}</span></td>
              <td (click)=" runQueries('<' + item.object.value + '>');"><span
                [ngClass]="{table_id: item.object.type != 'literal'}">{{ item.object.value_pretty }}</span></td>
            </tr>

            </tbody>
          </table>

          <ul class="uk-pagination uk-flex-center" uk-margin>
            <li *ngIf="searchPages.pagesTotal > 1 && searchPages.currentPage !== 1">
              <a><span uk-pagination-previous></span></a>
            </li>
            <li [ngClass]="{'uk-active': searchPages.currentPage == 1}">
              <span (click)="goToPage('search', $event)"
                    [ngClass]="{cursor_pointer: searchPages.currentPage != 1}">1</span>
            </li>
            <li *ngIf="searchPages.currentPage > 5" class="uk-disabled"><span>...</span></li>
            <ng-container *ngFor="let number of [3, 2, 1]" >
              <li *ngIf="searchPages.currentPage - number > 1">
                <span (click)="goToPage('search', $event)" style="cursor: pointer">{{searchPages.currentPage - number}}</span>
              </li>
            </ng-container>
            <li *ngIf="searchPages.currentPage != 1 && searchPages.currentPage != searchPages.pagesTotal"
                class="uk-active">
              <span (click)="goToPage('search', $event)">{{ searchPages.currentPage }}</span>
            </li>
            <ng-container *ngFor="let number of [1, 2, 3]" >
              <li *ngIf="searchPages.currentPage + number < searchPages.pagesTotal">
                <span (click)="goToPage('search', $event)" style="cursor: pointer">{{searchPages.currentPage + number}}</span>
              </li>
            </ng-container>
            <li *ngIf="searchPages.currentPage < searchPages.pagesTotal - 4" class="uk-disabled"><span>...</span></li>
            <li *ngIf="searchPages.pagesTotal > 1"
                [ngClass]="{'uk-active': searchPages.currentPage == searchPages.pagesTotal}">
              <span (click)="goToPage('search', $event)"
                    [ngClass]="{cursor_pointer: searchPages.currentPage != searchPages.pagesTotal}">{{ searchPages.pagesTotal }}</span>
            </li>
            <li *ngIf="searchPages.pagesTotal > 1 && searchPages.currentPage !== searchPages.pagesTotal">
              <a><span uk-pagination-next></span></a>
            </li>
          </ul>
        </div>
      </li>
    </ul>

    <article id="result" class="uk-article">

      <!-- <img data-src="src/app/img/slovakia.jpg" alt="Slovakia" uk-img>-->

      <!--      <h2 *ngIf="itemTitle != ''" class="uk-article-title uk-text-bold uk-margin-small-bottom"><a class="uk-link-reset" href="">{{ itemTitle }}</a>-->
      <!--      </h2>-->

      <!--      <p class="uk-article-meta">Slovak Republic<span> | </span>sk<span> | </span>ðŸ‡¸ðŸ‡°<span> | </span>SVK</p>-->

      <p *ngIf="itemTitle != ''" class="uk-text-lead">{{ itemTitle }}</p>

    </article>

    <ul uk-accordion="multiple: true">
      <li *ngIf="childrenQuery !== undefined && childrenQuery.results.bindings.length > 0" class="uk-open">
        <a class="uk-accordion-title" href="#">Children</a>
        <div class="uk-accordion-content">
          <table class="uk-table uk-table-striped">
            <thead>
            <tr>
              <th class="uk-width-large">Property</th>
              <th class="uk-table-expand">Value</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of childrenQuery.results.bindings">
              <td (click)=" runQueries('<' + item.predicate.value + '>');" class="uk-text-bold"><span
                class="table_id">{{ item.predicate.value_pretty }}</span></td>
              <td (click)=" runQueries('<' + item.object.value + '>');"><span
                [ngClass]="{table_id: item.object.type != 'literal'}">{{ item.object.value_pretty }}</span></td>
            </tr>

            </tbody>
          </table>

          <ul class="uk-pagination uk-flex-center" uk-margin>
            <li *ngIf="childrenPages.pagesTotal > 1 && childrenPages.currentPage !== 1">
              <a><span uk-pagination-previous></span></a>
            </li>
            <li [ngClass]="{'uk-active': childrenPages.currentPage == 1}">
              <span (click)="goToPage('children', $event)" [ngClass]="{cursor_pointer: childrenPages.currentPage != 1}">1</span>
            </li>
            <li *ngIf="childrenPages.currentPage > 5" class="uk-disabled"><span>...</span></li>
            <ng-container *ngFor="let number of [3, 2, 1]" >
              <li *ngIf="childrenPages.currentPage - number > 1">
                <span (click)="goToPage('children', $event)"
                      style="cursor: pointer">{{childrenPages.currentPage - number}}</span>
              </li>
            </ng-container>
            <li *ngIf="childrenPages.currentPage != 1 && childrenPages.currentPage != childrenPages.pagesTotal"
                class="uk-active">
              <span (click)="goToPage('children', $event)">{{ childrenPages.currentPage }}</span>
            </li>
            <ng-container *ngFor="let number of [1, 2, 3]" >
              <li *ngIf="childrenPages.currentPage + number < childrenPages.pagesTotal">
                <span (click)="goToPage('children', $event)"
                      style="cursor: pointer">{{childrenPages.currentPage + number}}</span>
              </li>
            </ng-container>
            <li *ngIf="childrenPages.currentPage < childrenPages.pagesTotal - 4" class="uk-disabled"><span>...</span>
            </li>
            <li *ngIf="childrenPages.pagesTotal > 1"
                [ngClass]="{'uk-active': childrenPages.currentPage == childrenPages.pagesTotal}">
              <span (click)="goToPage('children', $event)"
                    [ngClass]="{cursor_pointer: childrenPages.currentPage != childrenPages.pagesTotal}">{{ childrenPages.pagesTotal }}</span>
            </li>
            <li *ngIf="childrenPages.pagesTotal > 1 && childrenPages.currentPage !== childrenPages.pagesTotal">
              <a><span uk-pagination-next></span></a>
            </li>
          </ul>
        </div>
      </li>
      <li *ngIf="parentQuery !== undefined && parentQuery.results.bindings.length > 0" class="uk-open">
        <a class="uk-accordion-title" href="#">Parents</a>
        <div class="uk-accordion-content">
          <table class="uk-table uk-table-striped">
            <thead>
            <tr>
              <th class="uk-width-large">Subject</th>
              <th class="uk-table-expand">Property</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of parentQuery.results.bindings">
              <td (click)=" runQueries('<' + item.subject.value + '>');" class="uk-text-bold"><span
                class="table_id">{{ item.subject.value_pretty }}</span></td>
              <td (click)=" runQueries('<' + item.predicate.value + '>');"><span
                class="table_id">{{ item.predicate.value_pretty }}</span></td>
            </tr>

            </tbody>
          </table>

          <ul class="uk-pagination uk-flex-center" uk-margin>
            <li *ngIf="parentPages.pagesTotal > 1 && parentPages.currentPage !== 1">
              <a><span uk-pagination-previous></span></a>
            </li>
            <li [ngClass]="{'uk-active': parentPages.currentPage == 1}">
              <span (click)="goToPage('parents', $event)" [ngClass]="{cursor_pointer: parentPages.currentPage != 1}">1</span>
            </li>
            <li *ngIf="parentPages.currentPage > 5" class="uk-disabled"><span>...</span></li>
            <ng-container *ngFor="let number of [3, 2, 1]" >
              <li *ngIf="parentPages.currentPage - number > 1">
                <span (click)="goToPage('parents', $event)"
                      style="cursor: pointer">{{parentPages.currentPage - number}}</span>
              </li>
            </ng-container>
            <li *ngIf="parentPages.currentPage != 1 && parentPages.currentPage != parentPages.pagesTotal"
                class="uk-active">
              <span (click)="goToPage('parents', $event)">{{ parentPages.currentPage }}</span>
            </li>
            <ng-container *ngFor="let number of [1, 2, 3]" >
              <li *ngIf="parentPages.currentPage + number < parentPages.pagesTotal">
                <span (click)="goToPage('parents', $event)"
                      style="cursor: pointer">{{parentPages.currentPage + number}}</span>
              </li>
            </ng-container>
            <li *ngIf="parentPages.currentPage < parentPages.pagesTotal - 4" class="uk-disabled"><span>...</span>
            </li>
            <li *ngIf="parentPages.pagesTotal > 1"
                [ngClass]="{'uk-active': parentPages.currentPage == parentPages.pagesTotal}">
              <span (click)="goToPage('parents', $event)"
                    [ngClass]="{cursor_pointer: parentPages.currentPage != parentPages.pagesTotal}">{{ parentPages.pagesTotal }}</span>
            </li>
            <li *ngIf="parentPages.pagesTotal > 1 && parentPages.currentPage !== parentPages.pagesTotal">
              <a><span uk-pagination-next></span></a>
            </li>
          </ul>

        </div>
      </li>
    </ul>
  </div>

</section>



